<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Musinsa Clone" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Musinsa Clone">
    <meta name="mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <%# Enable PWA manifest for installable apps (make sure to enable in config/routes.rb too!) %>
    <%#= tag.link rel: "manifest", href: pwa_manifest_path(format: :json) %>

    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">

    <%# Includes all stylesheet files in app/assets/stylesheets %>
    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&family=Oswald:wght@500;700&display=swap" rel="stylesheet">
    
    <style>
      body { font-family: 'Noto Sans KR', sans-serif; }
      .font-oswald { font-family: 'Oswald', sans-serif; }
    </style>
  </head>

  <body class="bg-gray-50 text-gray-900 font-sans antialiased">
    <!-- Top Utility Bar -->
    <div class="bg-white border-b border-gray-100 hidden md:block">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-8 flex items-center justify-end space-x-4 text-[11px] text-gray-500 font-medium">
            <a href="#" class="hover:text-black">로그인</a>
            <a href="#" class="hover:text-black">회원가입</a>
            <a href="#" class="hover:text-black">마이페이지</a>
            <a href="#" class="hover:text-black">장바구니</a>
            <a href="#" class="hover:text-black">고객센터</a>
        </div>
    </div>

    <!-- Main Navigation Bar -->
    <nav class="bg-white sticky top-0 z-50 shadow-sm border-b border-black">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-12 md:h-20 flex items-center justify-between gap-4 md:gap-8">
        <!-- Logo -->
        <a href="/" class="text-2xl md:text-3xl font-black tracking-tighter shrink-0 font-oswald italic pr-2">COREN MUSINSA</a>
        
        <!-- Search Bar (Hidden on mobile, visible on desktop) -->
        <div class="hidden md:flex flex-1 max-w-xl mx-auto relative">
            <%= form_with url: root_path, method: :get, local: true, class: "w-full" do |f| %>
                <%= f.text_field :q, value: params[:q], placeholder: "검색어를 입력하세요", class: "w-full h-10 px-4 bg-gray-100 border-none rounded-sm text-sm focus:ring-1 focus:ring-black placeholder-gray-400 font-medium" %>
                <button type="submit" class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-black">
                   <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                </button>
            <% end %>
        </div>

        <!-- Navigation Links -->
        <div class="hidden md:flex items-center space-x-6 md:space-x-8 font-bold text-sm md:text-[15px] tracking-tight whitespace-nowrap">
          <a href="#" class="hover:text-gray-500 hover:underline underline-offset-4 decoration-2">랭킹</a>
          <a href="#" class="hover:text-gray-500">업데이트</a>
          <a href="#" class="hover:text-gray-500">코디</a>
          <a href="#" class="hover:text-gray-500">세일</a>
          <a href="#" class="hover:text-gray-500">스페셜</a>
          <a href="/snaps" class="hover:text-gray-500 text-black">매거진</a> <!-- Linked Snap to Magazine for demo -->
        </div>

        <!-- Mobile Menu & Icons -->
        <div class="flex items-center space-x-3 md:space-x-5 shrink-0">
          <a href="#" class="relative hover:text-gray-500">
             <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path></svg>
             <span class="absolute -top-1 -right-1 bg-red-600 text-white text-[9px] font-bold px-1 rounded-full">3</span>
          </a>
          <a href="#" class="hover:text-gray-500 hidden md:block">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
          </a>
        </div>
      </div>
    </nav>
    
    <!-- Secondary Category Nav (Visual) -->
    <div class="border-b border-gray-200 bg-white hidden md:block">
         <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-10 flex items-center space-x-6 text-xs font-bold text-gray-700 overflow-x-auto">
             <a href="#" class="text-black">전체</a>
             <a href="#" class="hover:text-black">상의</a>
             <a href="#" class="hover:text-black">아우터</a>
             <a href="#" class="hover:text-black">바지</a>
             <a href="#" class="hover:text-black">원피스</a>
             <a href="#" class="hover:text-black">스커트</a>
             <a href="#" class="hover:text-black">스니커즈</a>
             <a href="#" class="hover:text-black">신발</a>
             <a href="#" class="hover:text-black">가방</a>
             <a href="#" class="hover:text-black">모자</a>
             <a href="#" class="hover:text-black text-red-600">뷰티</a>
         </div>
    </div>

    <main>
      <%= yield %>
    </main>
    
    <footer class="bg-gray-100 border-t border-gray-200 pt-16 pb-20 mt-20 text-[11px] text-gray-500">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-12">
                <div class="col-span-1 md:col-span-2">
                    <h3 class="text-2xl font-black text-black mb-4 font-oswald italic">MUSINSA CLONE</h3>
                    <p class="leading-relaxed mb-4">
                        주식회사 무신사 (MUSINSA Co., Ltd.)<br>
                        서울시 성동구 아차산로 13길 11, 1층 (성수동 2가, 무신사 캠퍼스 엔1)<br>
                        대표이사 : 강승식 | 사업자등록번호 : 123-45-67890<br>
                        통신판매업신고 : 2026-서울성동-01234
                    </p>
                    <div class="flex space-x-3">
                        <a href="#" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors">F</a>
                        <a href="#" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors">I</a>
                        <a href="#" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors">Y</a>
                    </div>
                </div>
                <div>
                   <h4 class="font-bold text-black mb-3">HELP</h4>
                   <ul class="space-y-1.5">
                       <li><a href="#" class="hover:underline">공지사항</a></li>
                       <li><a href="#" class="hover:underline">자주 묻는 질문</a></li>
                       <li><a href="#" class="hover:underline">1:1 문의</a></li>
                       <li><a href="#" class="hover:underline">비회원 주문조회</a></li>
                   </ul>
                </div>
                <div>
                   <h4 class="font-bold text-black mb-3">POLICY</h4>
                   <ul class="space-y-1.5">
                       <li><a href="#" class="hover:underline text-black font-bold">개인정보처리방침</a></li>
                       <li><a href="#" class="hover:underline">이용약관</a></li>
                       <li><a href="#" class="hover:underline">입점신청</a></li>
                       <li><a href="#" class="hover:underline">채용안내</a></li>
                   </ul>
                </div>
            </div>
            <div class="border-t border-gray-200 pt-8 flex flex-col md:flex-row justify-between items-center text-[10px] text-gray-400">
                <p>COPYRIGHT (C) MUSINSA ALL RIGHTS RESERVED.</p>
                <div class="flex space-x-2 mt-2 md:mt-0">
                    <span>에스크로 서비스 가입 확인</span>
                    <span class="border-l border-gray-300 pl-2">소비자피해보상보험 가입 확인</span>
                </div>
            </div>
        </div>
    </footer>
  </body>
</html>
